<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üíï –†–æ–º–∞–Ω—Ç–∏—á–Ω–∏–π —Å—é—Ä–ø—Ä–∏–∑</title>
    <style>
      /* CSS –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è */
      :root {
        --primary-pink: rgba(255, 182, 193, 0.9);
        --soft-red: rgba(255, 160, 160, 0.8);
        --white-glow: rgba(255, 255, 255, 0.8);
        --peach: rgba(255, 218, 185, 0.8);
        --plum: rgba(221, 160, 221, 0.8);
        --love-gradient: linear-gradient(45deg, #ff6b9d, #ff8e9b, #ffc3a0);
        --message-font-size: clamp(28px, 6vw, 72px);
        --word-font-size: clamp(12px, 2.5vw, 22px);
        --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: radial-gradient(
          ellipse at bottom,
          #1a1a2e 0%,
          #16213e 50%,
          #0f0f23 100%
        );
        overflow: hidden;
        height: 100vh;
        position: relative;
        font-family: "Segoe UI", Arial, sans-serif;
      }

      /* Canvas –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ–π */
      canvas {
        position: absolute;
        top: 0;
        left: 0;
        display: block;
      }

      #fireworksCanvas {
        z-index: 1;
      }

      #heartsCanvas {
        z-index: 3;
      }

      /* –ú–µ—Ä–µ—Ö—Ç–ª–∏–≤—ñ –∑—ñ—Ä–∫–∏ –Ω–∞ —Ñ–æ–Ω—ñ */
      .stars {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 0;
      }

      .star {
        position: absolute;
        background: white;
        border-radius: 50%;
        animation: twinkle 3s infinite ease-in-out;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.3;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.4);
        }
      }

      /* –°–ø–ª–∏–≤–∞—é—á—ñ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ñ —Å–ª–æ–≤–∞ */
      .floating-word {
        position: absolute;
        color: white;
        font-size: clamp(14px, 3vw, 24px);
        font-weight: 300;
        opacity: 0;
        pointer-events: none;
        white-space: nowrap;
        z-index: 5;
        text-shadow: 0 0 15px rgba(255, 182, 193, 0.8),
          0 0 25px rgba(255, 182, 193, 0.4);
        animation: wordFloat 6s ease-in-out forwards;
      }

      @keyframes wordFloat {
        0% {
          opacity: 0;
          transform: translateY(30px) scale(0.7) rotate(-5deg);
        }
        15% {
          opacity: 1;
          transform: translateY(10px) scale(1) rotate(0deg);
        }
        85% {
          opacity: 1;
          transform: translateY(-40px) scale(1.05) rotate(2deg);
        }
        100% {
          opacity: 0;
          transform: translateY(-80px) scale(0.8) rotate(5deg);
        }
      }

      /* –†–æ–º–∞–Ω—Ç–∏—á–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è */
      .love-message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        opacity: 0;
        color: white;
        font-size: clamp(28px, 6vw, 64px);
        font-weight: 700;
        text-align: center;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
          0 0 40px rgba(255, 255, 255, 0.6), 0 0 60px rgba(255, 255, 255, 0.4),
          0 0 80px rgba(255, 182, 193, 0.3);
        letter-spacing: 3px;
        white-space: nowrap;
        animation: messageAppear 2s ease-in-out 5s forwards,
          messageGlow 3s ease-in-out 7s infinite;
      }

      @keyframes messageAppear {
        0% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.5) rotateY(90deg);
        }
        50% {
          opacity: 0.8;
          transform: translate(-50%, -50%) scale(1.1) rotateY(0deg);
        }
        100% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1) rotateY(0deg);
        }
      }

      @keyframes messageGlow {
        0%,
        100% {
          text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
            0 0 40px rgba(255, 255, 255, 0.6), 0 0 60px rgba(255, 255, 255, 0.4),
            0 0 80px rgba(255, 182, 193, 0.3);
        }
        50% {
          text-shadow: 0 0 30px rgba(255, 255, 255, 1),
            0 0 60px rgba(255, 255, 255, 0.8), 0 0 90px rgba(255, 255, 255, 0.6),
            0 0 120px rgba(255, 182, 193, 0.5);
        }
      }

      /* –ö–Ω–æ–ø–∫–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è */
      .back-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.3s ease;
        z-index: 20;
        cursor: pointer;
      }

      .back-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(255, 182, 193, 0.3);
        color: white;
        text-decoration: none;
      }

      /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å */
      @media (max-width: 768px) {
        .love-message {
          font-size: clamp(24px, 10vw, 52px);
          letter-spacing: 2px;
          padding: 0 15px;
          line-height: 1.2;
        }

        .floating-word {
          font-size: clamp(12px, 4.5vw, 20px);
        }

        .back-btn {
          top: 15px;
          left: 15px;
          padding: 10px 16px;
          font-size: 12px;
        }
      }

      /* –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è iPhone 14 Pro Max —Ç–∞ –ø–æ–¥—ñ–±–Ω–∏—Ö */
      @media (max-width: 430px) and (max-height: 932px) {
        .love-message {
          font-size: clamp(20px, 8vw, 44px);
          letter-spacing: 1px;
          top: 45%;
          padding: 0 20px;
          text-align: center;
          white-space: normal;
          max-width: 90vw;
        }

        .floating-word {
          font-size: clamp(10px, 4vw, 16px);
          font-weight: 400;
        }

        .back-btn {
          top: 12px;
          left: 12px;
          padding: 8px 14px;
          font-size: 11px;
          border-radius: 20px;
        }

        .stars {
          /* –ú–µ–Ω—à–µ –∑—ñ—Ä–æ–∫ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö */
        }
      }

      /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞ –æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
      @media (max-width: 480px) and (orientation: portrait) {
        .love-message {
          font-size: clamp(18px, 7vw, 40px);
          top: 40%;
          letter-spacing: 0.5px;
          line-height: 1.3;
        }

        .floating-word {
          font-size: clamp(9px, 3.5vw, 14px);
        }
      }

      /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ –æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
      @media (max-height: 500px) and (orientation: landscape) {
        .love-message {
          font-size: clamp(16px, 6vh, 32px);
          top: 50%;
          letter-spacing: 1px;
        }

        .floating-word {
          font-size: clamp(8px, 3vh, 12px);
        }

        .back-btn {
          top: 8px;
          left: 8px;
          padding: 6px 12px;
          font-size: 10px;
        }
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥</a>

    <!-- –ó—ñ—Ä–∫–∏ –Ω–∞ —Ñ–æ–Ω—ñ -->
    <div class="stars"></div>

    <!-- Canvas –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ–π -->
    <canvas id="fireworksCanvas"></canvas>
    <canvas id="heartsCanvas"></canvas>

    <!-- –†–æ–º–∞–Ω—Ç–∏—á–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
    <div class="love-message">–î–∞—Ä'—è, —è –∫–æ—Ö–∞—é —Ç–µ–±–µ ‚ù§Ô∏è</div>

    <script>
      // –†–æ–º–∞–Ω—Ç–∏—á–Ω—ñ —Å–ª–æ–≤–∞
      const ROMANTIC_WORDS = [
        "–Ω—ñ–∂–Ω—ñ—Å—Ç—å",
        "–∫–æ—Ö–∞–Ω–Ω—è",
        "—Ç—É—Ä–±–æ—Ç–∞",
        "—â–∞—Å—Ç—è",
        "—Ç–µ–ø–ª–æ—Ç–∞",
        "—É—Å–º—ñ—à–∫–∞",
        "–æ–±—ñ–π–º–∏",
        "–º—Ä—ñ—è",
        "—Ä–∞–¥—ñ—Å—Ç—å",
        "–∫—Ä–∞—Å–∞",
        "—Å–µ—Ä—Ü–µ",
        "–¥—É—à–∞",
        "—Å–æ–Ω–µ—á–∫–æ",
        "–∑—ñ—Ä–æ—á–∫–∞",
        "–ø—Ä–∏–Ω—Ü–µ—Å–∞",
        "—Ç–∏ –º—ñ–π —Å–≤—ñ—Ç",
        "–º–æ—è –ª—é–±–æ–≤",
        "–Ω–∞–∑–∞–≤–∂–¥–∏ —Ä–∞–∑–æ–º",
        "—î–¥–∏–Ω–∞",
        "–¥–æ—Ä–æ–≥–∞",
        "—Ä—ñ–¥–Ω–∞",
        "–Ω–∞–π–∫—Ä–∞—â–∞",
        "—á–∞—Ä—ñ–≤–Ω–∞",
        "—Ç–∏ –æ—Å–æ–±–ª–∏–≤–∞",
        "–º–æ—è —Ä–∞–¥—ñ—Å—Ç—å",
        "–º—ñ–π —Å–∫–∞—Ä–±",
        "–∞–Ω–≥–æ–ª—è—Ç–∫–æ",
        "—Å–æ–Ω—Ü–µ –º–æ—î",
        "–∑–∞–π—á–∏–∫",
        "–ª–∞–ø–æ—á–∫–∞",
        "–¥–∏–≤–æ–≤–∏–∂–Ω–∞",
        "—Ç–∏ —ñ–¥–µ–∞–ª—å–Ω–∞",
        "–º–æ—è –¥–æ–ª—è",
        "–º—ñ–π –¥—ñ–º",
        "—Å–ø–æ–∫—ñ–π",
        "—Ç–∏ ‚Äî –≤—Å–µ –¥–ª—è –º–µ–Ω–µ",
        "–º–æ—è —Å–∏–ª–∞",
        "–Ω–∞–¥—ñ—è",
        "–≤—ñ—Ä–∞",
        "–º—ñ–π –±–æ–±—Ä",
        "–º–∏–ª–æ—Ç–∞",
        "–ª–∞—Å–∫–∞",
        "–±–µ–∑–º–µ–∂–Ω—ñ—Å—Ç—å",
        "–≤—ñ–¥–¥–∞–Ω—ñ—Å—Ç—å",
        "—î–¥–∏–Ω–µ –∫–æ—Ö–∞–Ω–Ω—è",
        "–º–æ—è –∫–æ—Ä–æ–ª–µ–≤–∞",
        "—Å–æ–Ω—Ü–µ –º–æ–≥–æ –∂–∏—Ç—Ç—è",
        "–Ω–∞–π—Ä—ñ–¥–Ω—ñ—à–∞",
        "–º–æ—è –º—Ä—ñ—è",
        "–∞–Ω–≥–µ–ª –º—ñ–π",
        "—Å–∫–∞—Ä–± –¥—É—à—ñ",
        "—Å–µ—Ä–¥–µ–Ω—å–∫–æ",
        "–ª—é–±–∞",
        "–∫–æ—Ö–∞–Ω–∞",
        "–¥–æ—Ä–æ–≥–µ–Ω—å–∫–∞",
        "–∑–∞–∫–æ—Ö–∞–Ω–∞",
        "–º–∏–ª–∞",
        "—á—É–¥–æ–≤–∞",
      ];

      // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
      let fireworksCanvas, fireworksCtx, heartsCanvas, heartsCtx;
      let rockets = [];
      let particles = [];
      let hearts = [];
      let isAnimating = true;

      // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Canvas
      function initCanvas() {
        // –§–µ—î—Ä–≤–µ—Ä–∫–∏
        fireworksCanvas = document.getElementById("fireworksCanvas");
        fireworksCtx = fireworksCanvas.getContext("2d");
        fireworksCanvas.width = window.innerWidth;
        fireworksCanvas.height = window.innerHeight;

        // –°–µ—Ä–¥–µ—á–∫–∞
        heartsCanvas = document.getElementById("heartsCanvas");
        heartsCtx = heartsCanvas.getContext("2d");
        heartsCanvas.width = window.innerWidth;
        heartsCanvas.height = window.innerHeight;
      }

      // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑—ñ—Ä–æ–∫ (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ)
      function createStars() {
        const starsContainer = document.querySelector(".stars");
        const isMobile = window.innerWidth <= 768;
        const starsCount = isMobile ? 100 : 200; // –ú–µ–Ω—à–µ –∑—ñ—Ä–æ–∫ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö

        for (let i = 0; i < starsCount; i++) {
          const star = document.createElement("div");
          star.className = "star";
          const size = Math.random() * (isMobile ? 2 : 3) + 1;
          star.style.width = size + "px";
          star.style.height = size + "px";
          star.style.left = Math.random() * 100 + "%";
          star.style.top = Math.random() * 100 + "%";
          star.style.animationDelay = Math.random() * 3 + "s";
          star.style.animationDuration = 2 + Math.random() * 4 + "s";
          starsContainer.appendChild(star);
        }
      }

      // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø–ª–∏–≤–∞—é—á–∏—Ö —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–∏—Ö —Å–ª—ñ–≤
      function createFloatingWord() {
        const word = document.createElement("div");
        word.className = "floating-word";
        word.textContent =
          ROMANTIC_WORDS[Math.floor(Math.random() * ROMANTIC_WORDS.length)];

        // –†–æ–∑—É–º–Ω–µ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è (—É–Ω–∏–∫–∞—î–º–æ —Ü–µ–Ω—Ç—Ä)
        let x, y;
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;
        const exclusionRadius =
          Math.min(window.innerWidth, window.innerHeight) * 0.25;

        do {
          x = Math.random() * (window.innerWidth - 200);
          y = Math.random() * (window.innerHeight - 100);
        } while (
          Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2)) <
          exclusionRadius
        );

        word.style.left = x + "px";
        word.style.top = y + "px";

        // –í–∏–ø–∞–¥–∫–æ–≤–∏–π –∫–æ–ª—ñ—Ä –∑ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ—ó –ø–∞–ª—ñ—Ç—Ä–∏
        const colors = [
          "rgba(255, 182, 193, 0.9)",
          "rgba(255, 160, 122, 0.9)",
          "rgba(255, 105, 180, 0.9)",
          "rgba(255, 192, 203, 0.9)",
          "rgba(255, 228, 225, 0.9)",
          "rgba(255, 218, 185, 0.9)",
        ];
        word.style.color = colors[Math.floor(Math.random() * colors.length)];

        document.body.appendChild(word);

        // –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó
        setTimeout(() => {
          if (word.parentNode) {
            word.remove();
          }
        }, 6000);
      }

      // –ö–ª–∞—Å —á–∞—Å—Ç–∏–Ω–∫–∏ –¥–ª—è —Ñ–µ—î—Ä–≤–µ—Ä–∫—ñ–≤
      class Particle {
        constructor(x, y, color, velocity) {
          this.x = x;
          this.y = y;
          this.color = color;
          this.velocity = velocity;
          this.life = 1;
          this.decay = Math.random() * 0.007 + 0.005; // –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è 120fps
          this.size = Math.random() * 4 + 2;
          this.gravity = 0.025; // –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç—ñ 120fps
          this.friction = 0.99; // –ó–±—ñ–ª—å—à–µ–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç—ñ
        }

        update() {
          // 120fps –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ —Ñ—ñ–∑–∏–∫–∞ —á–∞—Å—Ç–∏–Ω–æ–∫
          this.velocity.x *= this.friction;
          this.velocity.y *= this.friction;
          this.velocity.y += this.gravity;
          // –î–æ–¥–∞—î–º–æ —Å—É–±–ø—ñ–∫—Å–µ–ª—å–Ω—É —Ç–æ—á–Ω—ñ—Å—Ç—å –¥–ª—è 120fps
          this.x += this.velocity.x * 0.6;
          this.y += this.velocity.y * 0.6;
          this.life -= this.decay;
        }

        draw() {
          fireworksCtx.save();
          fireworksCtx.globalAlpha = this.life;
          fireworksCtx.shadowBlur = 15;
          fireworksCtx.shadowColor = this.color;
          fireworksCtx.fillStyle = this.color;
          fireworksCtx.beginPath();
          fireworksCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          fireworksCtx.fill();
          fireworksCtx.restore();
        }
      }

      // –ö–ª–∞—Å —Ä–∞–∫–µ—Ç–∏
      class Rocket {
        constructor(x, targetY) {
          this.x = x;
          this.y = fireworksCanvas.height;
          this.targetY = targetY;
          this.velocity = {
            x: (Math.random() - 0.5) * 4,
            y: -15 - Math.random() * 5,
          };
          this.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
          this.trail = [];
          this.exploded = false;
        }

        update() {
          if (!this.exploded) {
            this.velocity.y += 0.05; // –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç—ñ 120fps
            this.x += this.velocity.x;
            this.y += this.velocity.y;

            this.trail.push({ x: this.x, y: this.y, life: 20 });
            if (this.trail.length > 15) this.trail.shift();

            this.trail.forEach((point) => point.life--);
            this.trail = this.trail.filter((point) => point.life > 0);

            if (this.y <= this.targetY || this.velocity.y >= 0) {
              this.explode();
            }
          }
        }

        draw() {
          if (!this.exploded) {
            // –ú–∞–ª—é–≤–∞–Ω–Ω—è —Å–ª—ñ–¥—É
            this.trail.forEach((point, index) => {
              fireworksCtx.save();
              fireworksCtx.globalAlpha = point.life / 20;
              fireworksCtx.shadowBlur = 10;
              fireworksCtx.shadowColor = this.color;
              fireworksCtx.fillStyle = this.color;
              fireworksCtx.beginPath();
              fireworksCtx.arc(point.x, point.y, 3, 0, Math.PI * 2);
              fireworksCtx.fill();
              fireworksCtx.restore();
            });

            // –ú–∞–ª—é–≤–∞–Ω–Ω—è —Ä–∞–∫–µ—Ç–∏
            fireworksCtx.save();
            fireworksCtx.shadowBlur = 20;
            fireworksCtx.shadowColor = this.color;
            fireworksCtx.fillStyle = this.color;
            fireworksCtx.beginPath();
            fireworksCtx.arc(this.x, this.y, 4, 0, Math.PI * 2);
            fireworksCtx.fill();
            fireworksCtx.restore();
          }
        }

        explode() {
          this.exploded = true;
          const explosionTypes = ["circle", "heart", "star"];
          const type =
            explosionTypes[Math.floor(Math.random() * explosionTypes.length)];

          // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–∏—Ö —Å–ª—ñ–≤ –ø—Ä–∏ –≤–∏–±—É—Ö—É
          for (let i = 0; i < 2; i++) {
            setTimeout(() => createFloatingWord(), i * 100);
          }

          if (type === "circle") {
            this.createCircleExplosion();
          } else if (type === "heart") {
            this.createHeartExplosion();
          } else {
            this.createStarExplosion();
          }
        }

        createCircleExplosion() {
          const particleCount = 50 + Math.random() * 30;
          const colors = [
            "#ff1744",
            "#e91e63",
            "#ff4081",
            "#ff6b9d",
            "#feca57",
            "#ff9ff3",
            "#54a0ff",
            "#5f27cd",
          ];

          for (let i = 0; i < particleCount; i++) {
            const angle = (Math.PI * 2 * i) / particleCount;
            const velocity = 4 + Math.random() * 8;
            const color = colors[Math.floor(Math.random() * colors.length)];

            particles.push(
              new Particle(this.x, this.y, color, {
                x: Math.cos(angle) * velocity,
                y: Math.sin(angle) * velocity,
              })
            );
          }
        }

        createHeartExplosion() {
          const particleCount = 30;
          for (let i = 0; i < particleCount; i++) {
            const t = (i / particleCount) * Math.PI * 2;
            const x = 16 * Math.pow(Math.sin(t), 3);
            const y = -(
              13 * Math.cos(t) -
              5 * Math.cos(2 * t) -
              2 * Math.cos(3 * t) -
              Math.cos(4 * t)
            );
            const scale = 0.4;

            particles.push(
              new Particle(this.x, this.y, "#ff69b4", {
                x: x * scale,
                y: y * scale,
              })
            );
          }
        }

        createStarExplosion() {
          const points = 5;
          const particlesPerPoint = 8;

          for (let point = 0; point < points; point++) {
            const angle = (Math.PI * 2 * point) / points;
            for (let i = 0; i < particlesPerPoint; i++) {
              const velocity = 3 + Math.random() * 6 + i * 0.5;
              const color = `hsl(${45 + Math.random() * 60}, 100%, 70%)`;

              particles.push(
                new Particle(this.x, this.y, color, {
                  x: Math.cos(angle) * velocity,
                  y: Math.sin(angle) * velocity,
                })
              );
            }
          }
        }
      }

      // –ö–ª–∞—Å —Å–µ—Ä–¥–µ—á–∫–∞ –∑ —Ñ—ñ–∑–∏–∫–æ—é
      class PhysicsHeart {
        constructor(x, y) {
          this.x = x;
          this.y = y;
          this.vx = (Math.random() - 0.5) * 6;
          this.vy = Math.random() * 3 + 2;
          this.rotation = Math.random() * Math.PI * 2;
          this.rotationSpeed = (Math.random() - 0.5) * 0.15;
          this.size = Math.random() * 12 + 8;
          this.gravity = 0.15; // –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç—ñ 120fps
          this.bounce = 0.7; // –ó–±—ñ–ª—å—à–µ–Ω–æ –¥–ª—è –±—ñ–ª—å—à –ø–ª–∞–≤–Ω–æ–≥–æ –≤—ñ–¥—Å–∫–æ–∫—É
          this.friction = 0.995; // –ó–±—ñ–ª—å—à–µ–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç—ñ
          this.settled = false;
          this.groundY = window.innerHeight - this.size;
          this.bounces = 0;
          this.maxBounces = 2;

          const heartColors = [
            "#ff1744",
            "#e91e63",
            "#ff4081",
            "#ff6b9d",
            "#ff8a80",
            "#ff5722",
            "#d500f9",
          ];
          this.color =
            heartColors[Math.floor(Math.random() * heartColors.length)];
        }

        update() {
          if (!this.settled) {
            // –§—ñ–∑–∏–∫–∞ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ –¥–ª—è 120fps
            this.vy += this.gravity;
            this.x += this.vx * this.friction * 0.8; // –ü–ª–∞–≤–Ω—ñ—à–∏–π —Ä—É—Ö
            this.y += this.vy * 0.8; // –ü–ª–∞–≤–Ω—ñ—à–∏–π —Ä—É—Ö
            this.rotation += this.rotationSpeed * 0.7; // –ü–ª–∞–≤–Ω—ñ—à–∞ —Ä–æ—Ç–∞—Ü—ñ—è

            // –í—ñ–¥—Å–∫–æ–∫ –≤—ñ–¥ —Å—Ç—ñ–Ω
            if (
              this.x <= this.size ||
              this.x >= window.innerWidth - this.size
            ) {
              this.vx *= -0.8;
              this.x = Math.max(
                this.size,
                Math.min(window.innerWidth - this.size, this.x)
              );
            }

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–µ–º–ª—ñ —Ç–∞ –≤—ñ–¥—Å–∫–æ–∫
            if (this.y >= this.groundY) {
              if (this.bounces < this.maxBounces && Math.abs(this.vy) > 1.0) {
                // –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç—ñ
                this.vy *= -this.bounce;
                this.vx *= 0.8;
                this.y = this.groundY;
                this.bounces++;
                this.rotationSpeed *= 0.7;
              } else {
                // –û—Å—ñ–¥–∞–Ω–Ω—è
                this.settled = true;
                this.y = this.groundY;
                this.vx = 0;
                this.vy = 0;
                this.rotationSpeed = 0;

                // –ü—ñ–¥–Ω—è—Ç—Ç—è –∑–µ–º–ª—ñ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Å–µ—Ä–¥–µ—á–æ–∫
                const heartHeight = this.size * 1.5;
                for (let heart of hearts) {
                  if (
                    heart.settled &&
                    Math.abs(heart.x - this.x) < heartHeight
                  ) {
                    this.groundY -= heartHeight * 0.5;
                    this.y = this.groundY;
                    break;
                  }
                }
              }
            }
          }
        }

        draw() {
          heartsCtx.save();
          heartsCtx.translate(this.x, this.y);
          heartsCtx.rotate(this.rotation);

          const scale = this.size / 20;
          heartsCtx.scale(scale, scale);

          // –°–≤—ñ—Ç—ñ–Ω–Ω—è
          heartsCtx.shadowBlur = 15;
          heartsCtx.shadowColor = this.color;
          heartsCtx.fillStyle = this.color;

          // –§–æ—Ä–º–∞ —Å–µ—Ä–¥–µ—á–∫–∞
          heartsCtx.beginPath();
          heartsCtx.moveTo(0, 0);
          heartsCtx.bezierCurveTo(-10, -8, -20, -2, -10, 5);
          heartsCtx.bezierCurveTo(-10, 12, 0, 20, 0, 20);
          heartsCtx.bezierCurveTo(0, 20, 10, 12, 10, 5);
          heartsCtx.bezierCurveTo(20, -2, 10, -8, 0, 0);
          heartsCtx.fill();

          heartsCtx.restore();
        }
      }

      // –ó–∞–ø—É—Å–∫ —Ä–∞–∫–µ—Ç–∏
      function launchRocket() {
        if (!isAnimating) return;
        const x = Math.random() * fireworksCanvas.width;
        const targetY =
          fireworksCanvas.height * 0.2 +
          Math.random() * fireworksCanvas.height * 0.3;
        rockets.push(new Rocket(x, targetY));
      }

      // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–¥–µ—á–∫–∞ (–Ü–ù–¢–ï–ù–°–ò–í–ù–û!)
      function createHeart() {
        const isMobile = window.innerWidth <= 768;
        const maxHearts = isMobile ? 150 : 300; // –ú–µ–Ω—à–µ —Å–µ—Ä–¥–µ—á–æ–∫ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö
        if (!isAnimating || hearts.length > maxHearts) return;
        const x = Math.random() * window.innerWidth;
        hearts.push(new PhysicsHeart(x, -30));
      }

      // –î–æ—â —Å–µ—Ä–¥–µ—á–æ–∫ (–±–∞–≥–∞—Ç–æ –æ–¥–Ω–æ—á–∞—Å–Ω–æ)
      function createHeartRain() {
        if (!isAnimating) return;
        const isMobile = window.innerWidth <= 768;
        // –°—Ç–≤–æ—Ä—é—î–º–æ –º–µ–Ω—à–µ —Å–µ—Ä–¥–µ—á–æ–∫ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
        const heartsCount = isMobile
          ? 3 + Math.floor(Math.random() * 4)
          : 5 + Math.floor(Math.random() * 6);
        for (let i = 0; i < heartsCount; i++) {
          setTimeout(() => createHeart(), i * 50);
        }
      }

      // –ê–Ω—ñ–º–∞—Ü—ñ—è —Ñ–µ—î—Ä–≤–µ—Ä–∫—ñ–≤ (120fps –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞)
      function animateFireworks() {
        if (!isAnimating) return;

        // Smooth fade trail –¥–ª—è 120fps
        fireworksCtx.fillStyle = "rgba(26, 26, 46, 0.05)";
        fireworksCtx.fillRect(
          0,
          0,
          fireworksCanvas.width,
          fireworksCanvas.height
        );

        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–∞–∫–µ—Ç –∑ —ñ–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü—ñ—î—é
        rockets = rockets.filter((rocket) => {
          rocket.update();
          rocket.draw();
          return !rocket.exploded;
        });

        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —á–∞—Å—Ç–∏–Ω–æ–∫ –∑ –ø–ª–∞–≤–Ω—ñ—à–æ—é —Ñ—ñ–∑–∏–∫–æ—é
        particles = particles.filter((particle) => {
          particle.update();
          particle.draw();
          return particle.life > 0;
        });

        requestAnimationFrame(animateFireworks);
      }

      // –ê–Ω—ñ–º–∞—Ü—ñ—è —Å–µ—Ä–¥–µ—á–æ–∫ (120fps –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞)
      function animateHearts() {
        if (!isAnimating) return;

        heartsCtx.clearRect(0, 0, heartsCanvas.width, heartsCanvas.height);

        // –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Å–µ—Ä–¥–µ—á–æ–∫ –¥–ª—è 120fps
        hearts.forEach((heart) => {
          heart.update();
          heart.draw();
        });

        // –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å–µ—Ä–¥–µ—á–æ–∫ —â–æ –≤–∏–ª–µ—Ç—ñ–ª–∏ –∑–∞ –º–µ–∂—ñ (—Ç—ñ–ª—å–∫–∏ –ø–æ —Å—Ç–æ—Ä–æ–Ω–∞—Ö)
        hearts = hearts.filter(
          (heart) => heart.x > -50 && heart.x < window.innerWidth + 50
        );

        requestAnimationFrame(animateHearts);
      }

      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ —Ä–∞–∫–µ—Ç (120fps —á–∞—Å—Ç–æ—Ç–∞)
      function autoLaunchRockets() {
        if (!isAnimating) return;
        launchRocket();
        setTimeout(autoLaunchRockets, 600 + Math.random() * 1200); // –ß–∞—Å—Ç—ñ—à–µ –¥–ª—è 120fps
      }

      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–∏—Ö —Å–ª—ñ–≤
      function autoCreateWords() {
        if (!isAnimating) return;
        createFloatingWord();
        setTimeout(autoCreateWords, 600 + Math.random() * 800);
      }

      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–æ—â —Å–µ—Ä–¥–µ—á–æ–∫ (120fps —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—å)
      function autoHeartRain() {
        if (!isAnimating) return;
        createHeartRain();
        setTimeout(autoHeartRain, 200 + Math.random() * 300); // –ß–∞—Å—Ç—ñ—à–µ –¥–ª—è 120fps
      }

      // –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—ñ–≤
      function handleClick(e) {
        const rect = fireworksCanvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const targetY = e.clientY - rect.top;
        rockets.push(new Rocket(x, targetY));

        // –î–£–ñ–ï –±–∞–≥–∞—Ç–æ —Å–µ—Ä–¥–µ—á–æ–∫ –ø—Ä–∏ –∫–ª—ñ–∫—É
        for (let i = 0; i < 8; i++) {
          setTimeout(() => createHeart(), i * 30);
        }

        // –°–ª–æ–≤–∞ –ø—Ä–∏ –∫–ª—ñ–∫—É
        for (let i = 0; i < 2; i++) {
          setTimeout(() => createFloatingWord(), i * 150);
        }
      }

      // –û–±—Ä–æ–±–∫–∞ –∑–º—ñ–Ω–∏ —Ä–æ–∑–º—ñ—Ä—É
      function handleResize() {
        fireworksCanvas.width = window.innerWidth;
        fireworksCanvas.height = window.innerHeight;
        heartsCanvas.width = window.innerWidth;
        heartsCanvas.height = window.innerHeight;
      }

      // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
      function init() {
        initCanvas();
        createStars();

        // –ó–∞–ø—É—Å–∫ –∞–Ω—ñ–º–∞—Ü—ñ–π
        animateFireworks();
        animateHearts();

        // –ü–æ—á–∞—Ç–∫–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏
        setTimeout(() => {
          for (let i = 0; i < 5; i++) {
            setTimeout(launchRocket, i * 300);
          }
        }, 1000);

        // –ü–æ—á–∞—Ç–∫–æ–≤—ñ —Å–ª–æ–≤–∞
        setTimeout(() => {
          for (let i = 0; i < 3; i++) {
            setTimeout(createFloatingWord, i * 400);
          }
        }, 2000);

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏
        setTimeout(autoLaunchRockets, 2500);
        setTimeout(autoCreateWords, 3000);
        setTimeout(autoHeartRain, 4000); // –Ü–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∏–π –¥–æ—â —Å–µ—Ä–¥–µ—á–æ–∫

        // –í–µ–ª–∏–∫–∏–π —Ñ—ñ–Ω–∞–ª
        setTimeout(() => {
          for (let i = 0; i < 10; i++) {
            setTimeout(launchRocket, i * 200);
          }
          // –î–£–ñ–ï –±–∞–≥–∞—Ç–æ —Å–µ—Ä–¥–µ—á–æ–∫ —É —Ñ—ñ–Ω–∞–ª—ñ
          for (let i = 0; i < 30; i++) {
            setTimeout(createHeart, i * 50);
          }
          // –ë–∞–≥–∞—Ç–æ —Å–ª—ñ–≤ —É —Ñ—ñ–Ω–∞–ª—ñ
          for (let i = 0; i < 8; i++) {
            setTimeout(createFloatingWord, i * 100);
          }
        }, 12000);

        // –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
        fireworksCanvas.addEventListener("click", handleClick);
        // Touch –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö
        fireworksCanvas.addEventListener("touchstart", (e) => {
          e.preventDefault();
          const touch = e.touches[0];
          const rect = fireworksCanvas.getBoundingClientRect();
          const mockEvent = {
            clientX: touch.clientX,
            clientY: touch.clientY,
          };
          handleClick(mockEvent);
        });
        window.addEventListener("resize", handleResize);
      }

      // –ó–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", init);
      } else {
        init();
      }
    </script>
  </body>
</html>
